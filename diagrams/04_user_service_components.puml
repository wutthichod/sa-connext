@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml

LAYOUT_TOP_DOWN()
LAYOUT_WITH_LEGEND()

title User Service Component Diagram

Container_Boundary(userService, "User Service") {
    Component(grpcHandler, "gRPC Handler", "Go", "Handles gRPC requests")
    Component(userServiceLogic, "User Service", "Go", "Business logic")
    Component(repository, "Repository", "Go", "Data access layer")
    Component(mapper, "Mapper", "Go", "Transforms models to DTOs")
}

SystemDb_Ext(postgres, "PostgreSQL", "Database")

Rel(grpcHandler, userServiceLogic, "Uses")
Rel(userServiceLogic, repository, "Uses")
Rel(userServiceLogic, mapper, "Uses")
Rel(repository, postgres, "Reads/Writes")

@enduml

